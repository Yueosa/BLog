---
title: 二进制逆向学习笔记 (1)
subTitle: 正在更新中
date: 2025-08-27
updated: 2025-08-27
cover: /cover/binary/cover.jpg
toc: true
categories:
  - 学习笔记
  - 二进制逆向
tags:
  - 二进制
  - 逆向工程
---

> 2025 年 8 月 27 日，为了参加即将举办的网安攻防大赛，开始恶补二进制逆向相关的知识

# 先正向，再逆向

对于任何逆向分析，首先应该掌握其**正向流程**，这对逆向很有帮助

本文分为五部分介绍入门二进制逆向需要的基础知识、学习路径

## 编程语言

> 对于程序开发通常分为 `Windows`，`Linux/Android`，`IOS/Mac` 三个平台，不同平台都有自己对应的主要编程语言

为了更好的接触底层，我们需要剔除掉脚本语言 (如 **shell**、**python**、**php** 等)

### 三大操作系统的主要编程语言

| 操作系统          | 主要语言                    |
| ----------------- | --------------------------- |
| `Windows`         | **C C++**                   |
| `Linux` `Android` | **C C++ Java Kotlin**       |
| `IOS` `Mac`       | **C C++ Objective-C Swift** |

可以看到 `C` 是操作系统开发中的绝对核心语言，`C++` 在驱动和部分用户态框架中大量使用，其他语言主要是应用层

## 操作系统 API

> `API` (应用程序编程接口) 是操作系统提供的功能，你只需要调用它就能实现一些功能

`C` `C++` 写出来的程序，本质上只是 **“写出一堆 CPU 指令”**，而真正的 **“文件、网络、进程管理”** 这些能力，都是操作系统提供的

可以理解为 **编程语言 -> 操作系统 API -> 操作系统内核 -> 物理硬件** 的调度关系

#### 学习 `API` 开发在逆向时非常关键，因为：

看到一个 `API` 调用 (比如 `CreateFileA` ) ，你就能推测程序想干嘛

把 `汇编` 和 `API` 名字一一对应，逻辑就会清晰很多

## 文件结构

> 当你写完一个程序，编译器并不是直接把机器指令丢到硬盘里，而是会 **打包成一个有组织的文件格式**

- **文件头 (Header)**

  用于记录这个文件的操作系统，架构，入口点地址，段表等信息

- **段/节区 (Sections / Segments)**

  存放不同类型的数据，比如代码段、数据段、符号表、调试信息

- **元数据**

  动态链接库依赖、运行时信息、签名、校验码等

### 常见文件结构

| 格式       | 平台                              | 文件头                                                          | 主要编程语言                             |
| ---------- | --------------------------------- | --------------------------------------------------------------- | ---------------------------------------- |
| **PE**     | Windows                           | `4D 5A` (MZ) 后跟 PE\0\0 `50 45 00 00`                          | `C` `C++` `C#` `VB` `Delphi` `Rust` `Go` |
| **ELF**    | Linux Android                     | `7F 45 4C 46`                                                   | `C` `C++` `Rust` `Go`                    |
| **Mach-O** | Apple                             | `FE ED FA CE`(32 位) `FE ED FA CF`(64 位) `CA FE BA BE`(Fat/UB) | `C` `C++` `Obj-C` `Swift` `Rust` `Go`    |
| **DEX**    | Android Runtime - ART & Dalvik VM | `64 65 78 0A 30 33 35 00(dex.035)`                              | `Java` `Kotlin`                          |
| **CLASS**  | JVM                               | `CA FE BA BE`                                                   | `Java` `Kotlin` `Scala`                  |

#### 额外说明：

> 在 `.exe` 和 `.dll` 文件的开头基本都能看到 `4D 5A`

> `45 4C 46` 就是 **ELF** 的 ASCII 码，`7F` 是 ASCII 的 DEL 字符

> **APK** 的本质是一个 ZIP，解压后你可能会找到 `classes.dex`，里面包含应用程序所有的 Java、Kotlin 字节码

**操作系统加载器(Loader)** 会先读 **文件头**，根据里面的字段来判断`格式、目标架构、程序入口点、依赖` 等信息

## 分析工具

## 芯片指令
